location:



input:

package com.example.demo.controller;

import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;

import java.lang.reflect.Method;
import java.util.HashMap;
import java.util.Map;

@RestController
public class LocationController {

    @GetMapping("/location")
    public Map<String, Object> getLocation() {

        Map<String, Object> location = new HashMap<>();

        try {
            // Simulate "sqrt" function
            Method sqrtMethod = Math.class.getMethod("sqrt", double.class);

            // Using reflection
            location.put("uri", sqrtMethod.getDeclaringClass().getProtectionDomain().getCodeSource().getLocation().getPath());
            location.put("nameIdentifier", sqrtMethod.getDeclaringClass().getName());

            // Approximate line/column (not exact, but for demonstration)
            StackTraceElement element = sqrtMethod.getDeclaringClass().getEnclosingClass() != null ?
                    sqrtMethod.getDeclaringClass().getEnclosingClass().getEnclosingClass() != null ? null : null
                    : null;

            // Since Java does not have DW-like line numbers, simulate
            location.put("startLine", -1);
            location.put("startColumn", -1);
            location.put("endLine", -1);
            location.put("endColumn", -1);

        } catch (NoSuchMethodException e) {
            location.put("error", "Method not found");
        }

        return location;
    }
}



output:

{
  "uri": "/usr/lib/jvm/java-17-openjdk/lib/modules",
  "nameIdentifier": "java.lang.Math",
  "startLine": -1,
  "startColumn": -1,
  "endLine": -1,
  "endColumn": -1
}


