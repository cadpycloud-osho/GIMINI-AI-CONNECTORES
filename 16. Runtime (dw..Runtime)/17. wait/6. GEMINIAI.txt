wait:




input:

import org.springframework.stereotype.Service;
import java.util.Map;

@Service
public class WaitService {

    private static final long WAIT_DURATION_MS = 2000;

    /**
     * Replicates the DW expression: { "user" : 1 } wait 2000
     * Pauses the execution thread for the specified duration before returning the result.
     * @return The resulting map after the pause.
     */
    public Map<String, Integer> executeWait() {
        System.out.println("Starting execution and initiating wait...");
        
        try {
            // Equivalent to DW wait 2000
            Thread.sleep(WAIT_DURATION_MS);
            System.out.println("Wait finished after " + WAIT_DURATION_MS + "ms.");
            
        } catch (InterruptedException e) {
            // Handle interruption gracefully
            Thread.currentThread().interrupt();
            System.err.println("Execution interrupted during wait.");
        }

        // Equivalent to the expression being yielded: { "user" : 1 }
        return Map.of("user", 1);
    }
}

// Example usage in a Spring Boot main class or test:
public class SpringBootWaitExample {
    public static void main(String[] args) {
        WaitService service = new WaitService();
        
        long startTime = System.currentTimeMillis();
        Map<String, Integer> result = service.executeWait();
        long endTime = System.currentTimeMillis();

        System.out.println("\n--- Spring Boot Wait Simulation Output ---");
        System.out.println("Result: " + result);
        System.out.println("Total execution time: " + (endTime - startTime) + "ms (should be ~2000ms)");
    }
}

output:


Starting execution and initiating wait...
Wait finished after 2000ms.

--- Spring Boot Wait Simulation Output ---
Result: {user=1}
Total execution time: 2001ms (should be ~2000ms)