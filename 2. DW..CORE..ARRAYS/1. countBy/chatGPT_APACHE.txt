countBy:


input:

import org.apache.camel.builder.RouteBuilder;
import java.util.Arrays;
import java.util.List;

public class CountByRoute extends RouteBuilder {

    @Override
    public void configure() {

        from("direct:start")
            .process(exchange -> {

                List<Integer> numbers = Arrays.asList(1, 2, 3, 4);

                long countBy = numbers.stream()
                                      .filter(n -> n % 2 == 0)
                                      .count();

                exchange.getIn().setBody(
                    java.util.Map.of("countBy", countBy)
                );
            })
            .log("${body}");
    }
}



output:

{
  "countBy": 2
}


