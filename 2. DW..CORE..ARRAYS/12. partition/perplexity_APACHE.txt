partition:

input:

import org.apache.camel.builder.RouteBuilder;
import java.util.*;
import java.util.stream.Collectors;

public class PartitionRoute extends RouteBuilder {
    @Override
    public void configure() throws Exception {
        from("direct:partition")
            .process(exchange -> {
                List<Integer> arr = Arrays.asList(0, 1, 2, 3, 4, 5);
                
                // partition by isEven(item)
                Map<Boolean, List<Integer>> partitioned = arr.stream()
                    .collect(Collectors.partitioningBy(x -> x % 2 == 0));
                
                Map<String, List<Integer>> result = Map.of(
                    "success", partitioned.get(true),   // even numbers
                    "failure", partitioned.get(false)   // odd numbers
                );
                
                exchange.getIn().setBody(result);
            })
            .marshal().json(JsonLibrary.Jackson)
            .to("log:output?showAll=true");
    }
}


output:

{
  "success": [0, 2, 4],
  "failure": [1, 3, 5]
}


