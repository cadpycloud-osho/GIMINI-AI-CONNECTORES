duration:


input:

import org.apache.camel.builder.RouteBuilder;
import java.util.Map;

public class TimerRoute extends RouteBuilder {

    @Override
    public void configure() {

        from("direct:start")
            .process(exchange -> {

                // Function equivalent to dw::Runtime::wait
                java.util.concurrent.Callable<String> myFunction = () -> {
                    Thread.sleep(100); // wait 100 ms
                    return "My result";
                };

                // Measure duration
                long startTime = System.currentTimeMillis();
                String result = myFunction.call();
                long endTime = System.currentTimeMillis();

                long duration = endTime - startTime;

                Map<String, Object> body = Map.of(
                    "time", duration,
                    "result", result
                );

                exchange.getMessage().setBody(body);
            });
    }
}



output:

{
  "time": 101,
  "result": "My result"
}

