hashWith:


input:

package com.example.demo.util;

import java.security.MessageDigest;

public class CryptoUtils {

    public static String hashWithMD2(String input) {
        try {
            MessageDigest md = MessageDigest.getInstance("MD2");
            byte[] hashBytes = md.digest(input.getBytes());

            // Convert raw bytes to DataWeave-style escaped string
            StringBuilder sb = new StringBuilder();
            for (byte b : hashBytes) {
                char c = (char) (b & 0xFF);
                if (Character.isISOControl(c) || c == '\uFFFD') {
                    sb.append(String.format("\\u%04x", (int) c));
                } else {
                    sb.append(c);
                }
            }

            return sb.toString();
        } catch (Exception ex) {
            throw new RuntimeException(ex);
        }
    }
}

package com.example.demo.controller;

import com.example.demo.util.CryptoUtils;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;

import java.util.Map;

@RestController
public class HashController {

    @GetMapping("/md2")
    public Map<String, String> getMD2Hash() {

        String result = CryptoUtils.hashWithMD2("hello");

        return Map.of("md2", result);
    }
}

output:

{
  "md2": "\ufffd\u00046s\ufffd1\ufffdh\ufffd}8\u0004\ufffd\u0006U"
}


