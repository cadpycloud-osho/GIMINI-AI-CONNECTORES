mergeWith:


input:

import org.apache.camel.builder.RouteBuilder;
import java.util.*;

public class MergeWithRoute extends RouteBuilder {
    @Override
    public void configure() throws Exception {
        from("direct:mergeWith")
            .process(exchange -> {
                Map<String, Object> left = Map.of(
                    "a", true,
                    "b", 1
                );
                
                Map<String, Object> right = Map.of(
                    "a", false,   // Overrides left.a
                    "c", "Test"
                );
                
                // Merge: right overrides left for duplicate keys
                Map<String, Object> merged = new LinkedHashMap<>(left);
                merged.putAll(right);  // right.a=false, right.c="Test" win
                
                Map<String, Object> result = new LinkedHashMap<>();
                result.put("mergeWith", merged);
                
                exchange.getIn().setBody(result);
            })
            .marshal().json(JsonLibrary.Jackson)
            .to("log:output?showAll=true");
    }
}


output:

{
  "mergeWith": {
    "a": false,
    "b": 1,
    "c": "Test"
  }
}





