nameSet:


input:

package com.example.dataweaveconverter;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.stereotype.Service;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;
import org.springframework.beans.factory.annotation.Autowired;

import java.util.ArrayList;
import java.util.List;
import java.util.Map;

@SpringBootApplication
public class DataweaveNameSetApplication {

    public static void main(String[] args) {
        SpringApplication.run(DataweaveNameSetApplication.class, args);
    }

    // =========================================================================
    // 1. DTO (Data Transfer Object)
    // =========================================================================
    public record DataWeaveOutput(
        List<String> nameSet
    ) {}

    // =========================================================================
    // 2. REST CONTROLLER
    // =========================================================================
    @RestController
    @RequestMapping("/convert")
    public static class DataWeaveController {

        private final DataWeaveService dataWeaveService;

        @Autowired
        public DataWeaveController(DataWeaveService dataWeaveService) {
            this.dataWeaveService = dataWeaveService;
        }

        @GetMapping("/nameSet")
        public DataWeaveOutput runDataWeaveLogic() {
            // Source object: { "a" : true, "b" : 1}
            Map<String, Object> sourceObject = Map.of("a", true, "b", 1);
            
            List<String> keyNames = dataWeaveService.getNameSet(sourceObject);

            return new DataWeaveOutput(keyNames);
        }
    }

    // =========================================================================
    // 3. SERVICE LAYER (LOGIC IMPLEMENTATION)
    // =========================================================================
    @Service
    public static class DataWeaveService {

        /**
         * Mimics the DataWeave dw::core::Objects::nameSet operation for a simple object/map.
         * This returns a list of all keys (names) in the map.
         *
         * @param inputMap The map (DataWeave Object) to retrieve keys from.
         * @return A list of the map's keys.
         */
        public List<String> getNameSet(Map<String, Object> inputMap) {
            // Direct equivalent: get the key set and convert it to a list.
            return new ArrayList<>(inputMap.keySet());
        }
    }
}

output:

{
  "nameSet": [
    "a",
    "b"
  ]
}


