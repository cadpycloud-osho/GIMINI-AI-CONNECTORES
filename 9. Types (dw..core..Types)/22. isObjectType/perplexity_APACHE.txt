isObjectType:

input:

import org.apache.camel.builder.RouteBuilder;
import org.apache.camel.model.dataformat.JsonLibrary;
import java.util.HashMap;
import java.util.Map;

public class DataWeaveObjectTypeRoute extends RouteBuilder {
    
    @Override
    public void configure() throws Exception {
        from("direct:start")
            .transform().method(this, "processObjectChecks")
            .marshal().json(JsonLibrary.Jackson)
            .to("log:output?showAll=true");
    }
    
    public Map<String, Boolean> processObjectChecks() {
        Map<String, Boolean> result = new HashMap<>();
        
        // AType = {name: String} (object type)
        result.put("a", isObjectType(createNameObjectSchema()));
        
        // Boolean - primitive type
        result.put("b", isObjectType(Boolean.class));
        
        return result;
    }
    
    private boolean isObjectType(Object type) {
        // DataWeave Object type check: returns true for object schemas {field: Type}
        if (type instanceof Class) {
            Class<?> clazz = (Class<?>) type;
            return !clazz.isPrimitive() && 
                   !Number.class.isAssignableFrom(clazz) &&
                   !String.class.equals(clazz) &&
                   !Boolean.class.equals(clazz);
        }
        
        // For object schema simulation {name: String}
        return type instanceof Map && ((Map<?,?>)type).containsKey("name");
    }
    
    private Map<String, Object> createNameObjectSchema() {
        // Represents {name: String} object type
        Map<String, Object> schema = new HashMap<>();
        schema.put("type", "object");
        schema.put("properties", Map.of("name", "String"));
        schema.put("nameField", true); // Marker for object type check
        return schema;
    }
}




output:

{
  "a": true,
  "b": false
}



