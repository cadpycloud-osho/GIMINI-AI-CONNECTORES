atBeginningOfWeek:

example 1:


input:


import java.time.DayOfWeek;
import java.time.LocalDateTime;
import java.time.ZoneOffset;
import java.time.ZonedDateTime;
import java.time.format.DateTimeFormatter;
import java.time.temporal.ChronoUnit;
import java.time.temporal.TemporalAdjusters;

public class DateTimeBeginningOfWeekExample {
    
    public static void main(String[] args) {
        // DataWeave Input: |2020-10-06T18:23:20.351-03:00| (Tuesday)
        ZonedDateTime input = ZonedDateTime.of(
            LocalDateTime.of(2020, 10, 6, 18, 23, 20, 351000000), 
            ZoneOffset.of("-03:00") 
        );
        
        // Java Equivalent: Adjust to the previous/same Sunday and set time to midnight
        ZonedDateTime result = input
            .with(TemporalAdjusters.previousOrSame(DayOfWeek.SUNDAY))
            .truncatedTo(ChronoUnit.DAYS);
        
        // Output formatting: "2020-10-04T00:00:00-03:00"
        String formattedOutput = result.format(DateTimeFormatter.ISO_OFFSET_DATE_TIME);
        
        System.out.println("Source Input: " + input.format(DateTimeFormatter.ISO_OFFSET_DATE_TIME));
        System.out.println("Result Output: " + formattedOutput);
    }
}

output:


2020-10-04T00:00:00-03:00
------------------------------------------------------------------


example 2:


input:


import java.time.DayOfWeek;
import java.time.LocalDateTime;
import java.time.format.DateTimeFormatter;
import java.time.temporal.ChronoUnit;
import java.time.temporal.TemporalAdjusters;

public class LocalDateTimeBeginningOfWeekExample {

    public static void main(String[] args) {
        // DataWeave Input: |2020-10-06T18:23:20.351| (Tuesday)
        LocalDateTime input = LocalDateTime.of(2020, 10, 6, 18, 23, 20, 351000000);
        
        // Java Equivalent: Adjust to the previous/same Sunday and set time to midnight
        LocalDateTime result = input
            .with(TemporalAdjusters.previousOrSame(DayOfWeek.SUNDAY))
            .truncatedTo(ChronoUnit.DAYS);

        // Output formatting: "2020-10-04T00:00:00"
        String formattedOutput = result.format(DateTimeFormatter.ISO_LOCAL_DATE_TIME);

        System.out.println("Source Input: " + input.format(DateTimeFormatter.ISO_LOCAL_DATE_TIME));
        System.out.println("Result Output: " + formattedOutput);
    }
}

output:

2020-10-04T00:00:00

------------------------------------------------------------------



example 3:


input:


import java.time.DayOfWeek;
import java.time.LocalDate;
import java.time.format.DateTimeFormatter;
import java.time.temporal.TemporalAdjusters;

public class DateBeginningOfWeekExample {

    public static void main(String[] args) {
        // DataWeave Input: |2020-10-06| (Tuesday)
        LocalDate input = LocalDate.of(2020, 10, 6);
        
        // Java Equivalent: Adjust to the previous/same Sunday
        LocalDate result = input.with(TemporalAdjusters.previousOrSame(DayOfWeek.SUNDAY));

        // Output formatting: "2020-10-04"
        String formattedOutput = result.format(DateTimeFormatter.ISO_LOCAL_DATE);

        System.out.println("Source Input: " + input.format(DateTimeFormatter.ISO_LOCAL_DATE));
        System.out.println("Result Output: " + formattedOutput);
    }
}

output:


2020-10-04
------------------------------------------------------------------






