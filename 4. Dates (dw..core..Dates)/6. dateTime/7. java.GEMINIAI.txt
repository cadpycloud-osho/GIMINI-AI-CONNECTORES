dateTime:



input:

import java.time.OffsetDateTime;
import java.time.ZoneOffset;
import java.time.format.DateTimeFormatter;

public class Main {

    /**
     * Constructs an OffsetDateTime from explicit date/time/offset components.
     * This mimics the DataWeave 'dateTime({...})' function with a timeZone.
     * @param year The year component.
     * @param month The month component (1-12).
     * @param day The day component (1-31).
     * @param hour The hour component (0-23).
     * @param minute The minute component (0-59).
     * @param second The second component (0-59).
     * @param offsetHours The offset in hours from UTC.
     * @param offsetMinutes The offset in minutes from UTC.
     * @return The resulting date-time string in ISO 8601 format (YYYY-MM-DDTHH:MM:SS+HH:MM).
     */
    public static String createNewDateTimeWithOffset(
            int year, int month, int day, int hour, int minute, int second, 
            int offsetHours, int offsetMinutes) {
        
        // 1. Define the ZoneOffset object using the offset components
        // The DataWeave input |-03:00| corresponds to an offset of -3 hours
        ZoneOffset zoneOffset = ZoneOffset.ofHoursMinutes(offsetHours, offsetMinutes);
        
        // 2. Construct the date-time object (DW: dateTime({...}))
        // OffsetDateTime.of() is the direct Java equivalent
        OffsetDateTime newDateTime = OffsetDateTime.of(
            year, month, day, hour, minute, second, 0, // Nano-seconds set to 0 as not provided
            zoneOffset
        );
        
        // 3. Format the date-time to the standard ISO output (DW output format)
        // DateTimeFormatter.ISO_OFFSET_DATE_TIME produces the "YYYY-MM-DDTHH:MM:SS+HH:MM" format
        return newDateTime.format(DateTimeFormatter.ISO_OFFSET_DATE_TIME);
    }

    /**
     * Executes the full DataWeave transformation and formats the JSON output.
     */
    public static String runDataWeaveTransformation() {
        // Input values from the DW source
        int year = 2012;
        int month = 10;
        int day = 11;
        int hour = 12;
        int minutes = 30;
        int seconds = 40;
        
        // Offset: |-03:00|
        int offsetHours = -3;
        int offsetMinutes = 0;
        
        // Calculate the new date-time string
        String newDateTimeString = createNewDateTimeWithOffset(
            year, month, day, hour, minutes, seconds, offsetHours, offsetMinutes
        );
        
        // 4. Format the final JSON output
        String jsonOutput = String.format("{\n  \"newDateTime\": \"%s\"\n}", newDateTimeString);

        System.out.println("--- Intermediate Data (For Context) ---");
        System.out.println("Input Components: 2012-10-11 12:30:40 with offset -03:00");
        System.out.println("ISO Date-Time String: " + newDateTimeString);
        System.out.println("---------------------------------------");
        
        return jsonOutput;
    }

    public static void main(String[] args) {
        String output = runDataWeaveTransformation();
        System.out.println("\nDataWeave JSON Output in Java:");
        System.out.println(output);
    }
}


output:

{
  "newDateTime": "2012-10-11T12:30:40-03:00"
}

