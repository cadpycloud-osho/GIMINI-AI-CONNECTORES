yesterday:


input:

import java.time.LocalDate;
import java.time.format.DateTimeFormatter;

public class Main {

    /**
     * Retrieves the local date for yesterday.
     * This mimics the DataWeave 'yesterday()' function.
     * @return The date string for yesterday in ISO 8601 format (YYYY-MM-DD).
     */
    public static String getYesterdayDate() {
        // 1. Get the current date and subtract 1 day (DW: yesterday())
        LocalDate yesterday = LocalDate.now().minusDays(1);
        
        // 2. Format the date to the standard ISO output (DW output format)
        // DateTimeFormatter.ISO_LOCAL_DATE produces the "YYYY-MM-DD" format
        return yesterday.format(DateTimeFormatter.ISO_LOCAL_DATE);
    }

    /**
     * Executes the full DataWeave transformation and formats the JSON output.
     */
    public static String runDataWeaveTransformation() {
        // Calculate the date string for yesterday
        String yesterdayDateString = getYesterdayDate();
        
        // 3. Format the final JSON output
        String jsonOutput = String.format("{\n  \"yesterday\": \"%s\"\n}", yesterdayDateString);

        System.out.println("--- Intermediate Data (For Context) ---");
        System.out.println("DW Function: yesterday()");
        System.out.println("Yesterday's Date String: " + yesterdayDateString);
        System.out.println("---------------------------------------");
        
        return jsonOutput;
    }

    public static void main(String[] args) {
        String output = runDataWeaveTransformation();
        System.out.println("\nDataWeave JSON Output in Java:");
        System.out.println(output);
    }
}

output:

--- Intermediate Data (For Context) ---
DW Function: yesterday()
Yesterday's Date String: 2025-12-15
---------------------------------------

DataWeave JSON Output in Java:
{
  "yesterday": "2025-12-15"
}

