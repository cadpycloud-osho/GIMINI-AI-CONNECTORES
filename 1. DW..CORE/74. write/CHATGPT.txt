write:


example 1:

input:

@GetMapping("/write1")
public Map<String, String> writeExample1() {
    Map<String, String> map = new HashMap<>();
    map.put("hello", "world"); // Equivalent to write("world", "text/plain")
    return map;
}


output:

{
  "hello": "world"
}

-------------------------------------------------------------------



example 2:

input:

@GetMapping(value = "/write2", produces = "application/xml")
public String writeExample2() {

    List<Map<String, String>> payload = List.of(
        Map.of(
            "Name", "Mr White",
            "Email", "white@mulesoft.com",
            "Id", "1234",
            "Title", "Chief Java Prophet"
        ),
        Map.of(
            "Name", "Mr Orange",
            "Email", "orange@mulesoft.com",
            "Id", "4567",
            "Title", "Integration Ninja"
        )
    );

    StringBuilder csv = new StringBuilder();
    csv.append("Name|Email|Id|Title\n");

    for (Map<String, String> item : payload) {
        csv.append(item.get("Name")).append("|")
            .append(item.get("Email")).append("|")
            .append(item.get("Id")).append("|")
            .append(item.get("Title")).append("\n");
    }

    return "<?xml version=\"1.0\" encoding=\"US-ASCII\"?>\n"
            + "<output>" 
            + csv.toString().trim() 
            + "</output>";
}


Output (XML):

<?xml version="1.0" encoding="US-ASCII"?>
<output>Name|Email|Id|Title
Mr White|white@mulesoft.com|1234|Chief Java Prophet
Mr Orange|orange@mulesoft.com|4567|Integration Ninja</output>

-------------------------------------------------------------------




