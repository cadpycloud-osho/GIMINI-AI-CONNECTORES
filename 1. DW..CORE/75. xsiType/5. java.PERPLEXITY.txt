xsiType:




input:

import javax.xml.parsers.*;
import org.w3c.dom.*;
import javax.xml.transform.*;
import javax.xml.transform.dom.DOMSource;
import javax.xml.transform.stream.StreamResult;
import javax.xml.namespace.NamespaceContext;
import javax.xml.namespace.QName;

public class Main {
    public static void main(String[] args) throws Exception {
        // Create document
        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
        factory.setNamespaceAware(true);
        DocumentBuilder builder = factory.newDocumentBuilder();
        Document doc = builder.newDocument();
        
        // Namespaces
        String acmeNS = "http://acme.com";
        String xsiNS = "http://www.w3.org/2001/XMLSchema-instance";
        
        // Root user element with acme namespace
        Element user = doc.createElementNS(acmeNS, "user");
        
        // Add xsi:type="acme:user" attribute
        Attr xsiType = doc.createAttributeNS(xsiNS, "type");
        xsiType.setValue("acme:user");
        user.setAttributeNodeNS(xsiType);
        
        // Add child elements
        Element name = doc.createElementNS(acmeNS, "name");
        name.setTextContent("Peter");
        user.appendChild(name);
        
        Element lastName = doc.createElementNS(acmeNS, "lastName");
        lastName.setTextContent("Parker");
        user.appendChild(lastName);
        
        doc.appendChild(user);
        
        // Output XML
        TransformerFactory tf = TransformerFactory.newInstance();
        Transformer transformer = tf.newTransformer();
        transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, "no");
        transformer.setOutputProperty(OutputKeys.INDENT, "yes");
        transformer.setOutputProperty("{http://xml.apache.org/xslt}indent-amount", "4");
        transformer.transform(new DOMSource(doc), new StreamResult(System.out));
    }
}



output:

<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<user xmlns:acme="http://acme.com" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="acme:user">
    <name xmlns="http://acme.com">Peter</name>
    <lastName xmlns="http://acme.com">Parker</lastName>
</user>

