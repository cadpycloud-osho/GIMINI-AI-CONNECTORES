maxBy:

EXAMPLE 1:

INPUT:

// MaxByObjectApp.java
package com.example.demo;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

import java.util.*;
import java.util.Comparator;

@SpringBootApplication
public class MaxByObjectApp {
    public static void main(String[] args) {
        SpringApplication.run(MaxByObjectApp.class, args);

        List<Map<String, Integer>> items = Arrays.asList(
            Map.of("a", 1),
            Map.of("a", 3),
            Map.of("a", 2)
        );

        Map<String, Integer> maxItem = Collections.max(items, Comparator.comparingInt(item -> item.get("a")));
        System.out.println(maxItem);  // Output: {a=3}
    }
}


OUTPUT:

{a=3}
-------------------------------------------------------------------


EXAMPLE 2:

INPUT:

// MaxByDateTimeApp.java
package com.example.demo;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

import java.time.*;
import java.time.format.DateTimeFormatter;
import java.util.*;

@SpringBootApplication
public class MaxByDateTimeApp {
    public static void main(String[] args) {
        SpringApplication.run(MaxByDateTimeApp.class, args);

        OffsetDateTime dt1 = OffsetDateTime.parse("2017-10-01T22:57:59-03:00");
        OffsetDateTime dt2 = OffsetDateTime.parse("2018-10-01T23:57:59-03:00");

        OffsetDateTime maxDateTime = Collections.max(Arrays.asList(dt1, dt2));
        LocalDate maxDate = Collections.max(Arrays.asList(dt1.toLocalDate(), dt2.toLocalDate()));
        OffsetTime maxTime = Collections.max(Arrays.asList(dt1.toOffsetTime(), dt2.toOffsetTime()));
        Object emptyMax = Collections.max(Collections.emptyList()); // throws exception, DataWeave returns null

        Map<String, Object> myMaxBy = Map.of(
            "byDateTime", maxDateTime.format(DateTimeFormatter.ISO_OFFSET_DATE_TIME),
            "byDate", maxDate.format(DateTimeFormatter.ISO_LOCAL_DATE),
            "byTime", maxTime.format(DateTimeFormatter.ISO_OFFSET_TIME),
            "emptyArray", null
        );

        Map<String, Object> result = Map.of("myMaxBy", myMaxBy);
        System.out.println(result);
    }
}


OUTPUT:

{myMaxBy={byDateTime=2018-10-01T23:57:59-03:00, byDate=2018-10-01, byTime=23:57:59-03:00, emptyArray=null}}


-------------------------------------------------------------------


EXAMPLE 3:

INPUT:

// MaxByStringApp.java
package com.example.demo;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

import java.util.*;

@SpringBootApplication
public class MaxByStringApp {
    public static void main(String[] args) {
        SpringApplication.run(MaxByStringApp.class, args);

        String maxString = Collections.max(Arrays.asList("A", "B", "C"));
        System.out.println(maxString);  // Output: "C"
    }
}


OUTPUT:

C
