maxBy:

example 1:


input:
from("direct:maxByExample")
.setBody(constant(List.of(
    Map.of("a", 1),
    Map.of("a", 3),
    Map.of("a", 2)
)))
.setBody(simple(
    "${body.stream().max((o1,o2) -> Integer.compare(o1[a], o2[a])).get()}"
));



output:

{ "a": 3 }


---------------------------------------------------


example 2:


input:

from("direct:maxByDateExample")
.setBody(simple(
    "{ " +
    "\"myMaxBy\": { " +
      "\"byDateTime\": ${[ '2017-10-01T22:57:59-03:00', '2018-10-01T23:57:59-03:00' ].stream().max((d1,d2) -> d1.compareTo(d2)).get()}," +
      "\"byDate\": ${[ '2017-10-01', '2018-10-01' ].stream().max((d1,d2) -> d1.compareTo(d2)).get()}," +
      "\"byTime\": ${[ '22:57:59-03:00', '23:57:59-03:00' ].stream().max((t1,t2) -> t1.compareTo(t2)).get()}," +
      "\"emptyArray\": null" +
    " } " +
    "}"
));


output:

{
  "myMaxBy": {
    "byDateTime": "2018-10-01T23:57:59-03:00",
    "byDate": "2018-10-01",
    "byTime": "23:57:59-03:00",
    "emptyArray": null
  }
}


---------------------------------------------------

example 3:


input:

from("direct:maxByStringExample")
.setBody(simple(
    "${[ 'A', 'B', 'C' ].stream().max((s1,s2) -> s1.compareTo(s2)).get()}"
));


output:

"C"


---------------------------------------------------
















