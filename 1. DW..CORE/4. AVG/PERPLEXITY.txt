avg(values: Array<Number>): Number
Returns the average of numbers listed in an array.

An array that is empty or that contains a non-numeric value results in an error.

INPUT:
package com.example.demo;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;
import java.util.Arrays;
import java.util.List;
import java.util.Map;

@SpringBootApplication
public class DemoApplication {
    public static void main(String[] args) {
        SpringApplication.run(DemoApplication.class, args);
    }
}

@RestController
class DataWeaveController {
    @GetMapping("/dataweave-average")
    public Map<String, Double> getAverages() {
        List<Integer> array1 = Arrays.asList(1, 1000);
        List<Integer> array2 = Arrays.asList(1, 2, 3);
        
        double avg1 = array1.stream().mapToInt(Integer::intValue).average().orElse(0.0);
        double avg2 = array2.stream().mapToInt(Integer::intValue).average().orElse(0.0);
        
        return Map.of(
            "a", avg1,
            "b", avg2
        );
    }
}


OUTPUT:
{
  "a": 500.5,
  "b": 2.0
}

