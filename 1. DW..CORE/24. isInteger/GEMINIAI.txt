isInteger


INPUT:

import java.util.Arrays;
import java.util.List;

public class IsIntegerExample {

    /**
     * Custom utility method to replicate DataWeave's isInteger behavior.
     */
    public static boolean isInteger(Object value) {
        if (value == null) {
            return false;
        } 
        
        // 1. Check if the value is already a Java Integer/Long (matches DW 1 -> true)
        if (value instanceof Integer || value instanceof Long) {
            return true;
        }
        
        // 2. Check if the value is a floating-point type with a zero fractional part. 
        // (Matches DW 2.0 -> true, DW 2.2 -> false)
        if (value instanceof Double d) {
            // Check if the value is mathematically equal to its floor (i.e., no remainder)
            return d == Math.floor(d);
        }
        if (value instanceof Float f) {
            double d = f.doubleValue();
            return d == Math.floor(d);
        }
        
        // 3. Check if the value is a String representation of an integer. (Matches DW "1" -> true)
        if (value instanceof String str) {
            // Attempt to parse the string as a whole number
            try {
                // If parsing succeeds, it's a valid integer string
                Integer.parseInt(str);
                return true;
            } catch (NumberFormatException e) {
                // If parsing fails, it's not a simple integer string
                return false; 
            }
        }
        
        // All other types return false
        return false; 
    }

    public static void main(String[] args) {
        // Input matching the DataWeave example
        Integer input1 = 1; 
        Double input2 = 2.0; 
        Double input3 = 2.2; 
        String input4 = "1"; 

        // --- Perform Operations ---
        List<Boolean> results = Arrays.asList(
            isInteger(input1),  // isInteger(1)
            isInteger(input2),  // isInteger(2.0)
            isInteger(input3),  // isInteger(2.2)
            isInteger(input4)   // isInteger("1")
        );
        
        // --- Output ---
        System.out.println("Input Logic: Custom isInteger(Object value)");
        System.out.println("Output (JSON equivalent): " + results);
    }
}


OUTPUT:

[true, true, false, true]