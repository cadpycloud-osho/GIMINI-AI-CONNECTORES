minBy:

example 1:


input:

from("direct:minByExample")
.setBody(constant(List.of(
    Map.of("a", 1),
    Map.of("a", 2),
    Map.of("a", 3)
)))
.setBody(simple(
    "${body.stream().min((o1,o2) -> Integer.compare(o1[a], o2[a])).get()}"
));


output:

{ "a": 1 }


----------------------------------------------------------

example 2:


input:

from("direct:minByMixedExample")
.setBody(simple(
    "{ " +
      "\"myMinBy\": { " +
        "\"byDateTime\": ${[ '2017-10-01T22:57:59-03:00', '2018-10-01T23:57:59-03:00' ].stream().min((d1,d2) -> d1.compareTo(d2)).get()}," +
        "\"byDate\": ${[ '2017-10-01', '2018-10-01' ].stream().min((d1,d2) -> d1.compareTo(d2)).get()}," +
        "\"byTime\": ${[ '22:57:59-03:00', '23:57:59-03:00' ].stream().min((t1,t2) -> t1.compareTo(t2)).get()}," +
        "\"aBoolean\": ${[true, false, (0 > 1), (1 > 0)].stream().min((b1,b2) -> Boolean.compare(b1,b2)).get()}," +
        "\"emptyArray\": null" +
      "}" +
    "}"
));


output:

{
  "myMinBy": {
    "byDateTime": "2017-10-01T22:57:59-03:00",
    "byDate": "2017-10-01",
    "byTime": "22:57:59-03:00",
    "aBoolean": false,
    "emptyArray": null
  }
}

