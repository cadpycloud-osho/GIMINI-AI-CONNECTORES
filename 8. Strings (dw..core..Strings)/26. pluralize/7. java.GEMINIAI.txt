pluralize:


input:
import java.util.Arrays;
import java.util.HashSet;
import java.util.Set;

public class Main {
    public static void main(String[] args) {
        System.out.println("{ \"pluralize\" : \"" + pluralize("box") + "\" }");
    }

    // Simple list of words that are the same in singular and plural form
    private static final Set<String> UNCOUNTABLE = new HashSet<>(Arrays.asList(
        "sheep", "fish", "series", "species", "aircraft", "deer" 
    ));

    public static String pluralize(String word) {
        if (word == null || word.isEmpty()) {
            return word;
        }
        
        String lowerWord = word.toLowerCase();
        if (UNCOUNTABLE.contains(lowerWord)) {
            return word;
        }

        if (lowerWord.endsWith("s") || lowerWord.endsWith("x") || lowerWord.endsWith("z") ||
            lowerWord.endsWith("ch") || lowerWord.endsWith("sh")) {
            return word + "es";
        }
        
        if (lowerWord.endsWith("y") && word.length() > 1 && 
            !isVowel(lowerWord.charAt(lowerWord.length() - 2))) {
            return word.substring(0, word.length() - 1) + "ies";
        }

        return word + "s";
    }

    private static boolean isVowel(char c) {
        return "aeiou".indexOf(c) != -1;
    }
}

output:

{
  "pluralize": "boxes"
}

