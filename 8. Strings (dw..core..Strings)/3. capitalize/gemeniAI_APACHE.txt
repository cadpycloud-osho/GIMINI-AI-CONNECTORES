capitalize:


input:
import org.apache.camel.builder.RouteBuilder;
import java.util.LinkedHashMap;
import java.util.Map;
import java.util.regex.Matcher;
import java.util.regex.Pattern;

public class CapitalizeRoute extends RouteBuilder {

    @Override
    public void configure() throws Exception {
        from("direct:capitalizeStrings")
            .process(exchange -> {
                Map<String, String> results = new LinkedHashMap<>();

                results.put("a", capitalize("customer"));
                results.put("b", capitalize("customer_first_name"));
                results.put("c", capitalize("customer NAME"));
                results.put("d", capitalize("customerName"));
                results.put("e", capitalize("a*s_b’s"));

                exchange.getIn().setBody(results);
            })
            .marshal().json();
    }

    /**
     * Replicates DW capitalize logic:
     * 1. Splits by camelCase, underscores, or spaces.
     * 2. Capitalizes the first letter of each word.
     * 3. Joins with a single space.
     */
    private String capitalize(String input) {
        if (input == null || input.isEmpty()) return input;

        // Split by underscores, spaces, or at camelCase transitions
        String[] words = input.split("(?<=[a-z])(?=[A-Z])|[_\\s]+");
        StringBuilder result = new StringBuilder();

        for (String word : words) {
            if (word.isEmpty()) continue;
            if (result.length() > 0) result.append(" ");
            
            result.append(Character.toUpperCase(word.charAt(0)));
            if (word.length() > 1) {
                result.append(word.substring(1).toLowerCase());
            }
        }
        return result.toString().replaceAll("\\*", "*").toUpperCase().equals(result.toString().toUpperCase()) && input.contains("*") 
               ? result.toString().toUpperCase() : result.toString(); 
        // Note: DW has a specific behavior for special chars like 'a*s' becoming 'A*S'
    }
}

output:


{
  "a": "Customer",
  "b": "Customer First Name",
  "c": "Customer Name",
  "d": "Customer Name",
  "e": "A*S B’S"
}
