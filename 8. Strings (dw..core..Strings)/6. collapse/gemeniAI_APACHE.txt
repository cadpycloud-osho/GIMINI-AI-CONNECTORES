collapse:


input:

import org.apache.camel.builder.RouteBuilder;
import java.util.ArrayList;
import java.util.List;

public class CollapseStringRoute extends RouteBuilder {

    @Override
    public void configure() throws Exception {
        from("direct:collapseString")
            .process(exchange -> {
                String input = "a  b babb a";
                List<String> result = collapse(input);
                exchange.getIn().setBody(result);
            })
            .marshal().json();
    }

    /**
     * Logic to group identical consecutive characters
     */
    private List<String> collapse(String input) {
        List<String> tokens = new ArrayList<>();
        if (input == null || input.isEmpty()) return tokens;

        StringBuilder currentGroup = new StringBuilder();
        currentGroup.append(input.charAt(0));

        for (int i = 1; i < input.length(); i++) {
            char current = input.charAt(i);
            // If the character is the same as the previous one, append it
            if (current == input.charAt(i - 1)) {
                currentGroup.append(current);
            } else {
                // If it's different, save the old group and start a new one
                tokens.add(currentGroup.toString());
                currentGroup = new StringBuilder();
                currentGroup.append(current);
            }
        }
        tokens.add(currentGroup.toString()); // Add the final group
        return tokens;
    }
}

output:

["a", "  ", "b", " ", "b", "a", "bb", " ", "a"]

