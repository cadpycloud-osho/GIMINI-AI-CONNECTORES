appendIfMissing:


input:


public class Main {

    /**
     * Implements the logic equivalent to DataWeave's appendIfMissing.
     * Appends the suffix to the base string only if the base string does not already end with the suffix.
     * Handles null input by returning null.
     */
    public static String appendIfMissing(String base, String suffix) {
        if (base == null) {
            return null;
        }
        // Since "" is always a suffix, using .endsWith("") handles cases 'b' and 'a' correctly.
        if (base.endsWith(suffix)) {
            return base;
        }
        return base + suffix;
    }

    public static void main(String[] args) {
        // Source cases:
        String a = appendIfMissing(null, "");
        String b = appendIfMissing("abc", "");
        String c = appendIfMissing("", "xyz");
        String d = appendIfMissing("abc", "xyz");
        String e = appendIfMissing("abcxyz", "xyz");

        // --- Final JSON Output ---
        System.out.println("{");
        // For null output, JSON represents it as `null`. We print the literal string "null" if the variable is null.
        System.out.println("  \"a\": " + (a == null ? "null" : "\"" + a + "\"") + ",");
        System.out.println("  \"b\": " + (b == null ? "null" : "\"" + b + "\"") + ",");
        System.out.println("  \"c\": " + (c == null ? "null" : "\"" + c + "\"") + ",");
        System.out.println("  \"d\": " + (d == null ? "null" : "\"" + d + "\"") + ",");
        System.out.println("  \"e\": " + (e == null ? "null" : "\"" + e + "\""));
        System.out.println("}");
    }
}

output:


{
  "a": null,
  "b": "abc",
  "c": "xyz",
  "d": "abcxyz",
  "e": "abcxyz"
}
