camelize:


input:

import org.apache.camel.builder.RouteBuilder;
import java.util.LinkedHashMap;
import java.util.Map;
import java.util.regex.Matcher;
import java.util.regex.Pattern;

public class CamelizeRoute extends RouteBuilder {

    @Override
    public void configure() throws Exception {
        from("direct:camelizeStrings")
            .process(exchange -> {
                Map<String, String> results = new LinkedHashMap<>();

                results.put("a", camelize("customer_first_name"));
                results.put("b", camelize("_name_starts_with_underscore"));

                exchange.getIn().setBody(results);
            })
            .marshal().json();
    }

    /**
     * Parity logic for DataWeave's camelize:
     * 1. Remove leading/trailing underscores
     * 2. Convert underscores to CamelCase
     */
    private String camelize(String input) {
        if (input == null || input.isEmpty()) return input;

        // Strip leading/trailing underscores
        String cleaned = input.replaceAll("^_+|_+$", "");
        
        StringBuilder result = new StringBuilder();
        boolean capitalizeNext = false;

        for (int i = 0; i < cleaned.length(); i++) {
            char c = cleaned.charAt(i);
            if (c == '_') {
                capitalizeNext = true;
            } else {
                if (capitalizeNext) {
                    result.append(Character.toUpperCase(c));
                    capitalizeNext = false;
                } else {
                    result.append(Character.toLowerCase(c));
                }
            }
        }
        return result.toString();
    }
}


output:


{
  "a": "customerFirstName",
  "b": "nameStartsWithUnderscore"
}

