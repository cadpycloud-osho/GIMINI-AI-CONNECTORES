readLinesWith:


input:

import java.nio.charset.StandardCharsets;
import java.util.Arrays;
import java.util.List;
import java.util.stream.Collectors;

public class Main {
    public static void main(String[] args) {
        // DataWeave equivalent: read("Line 1\nLine 2\nLine 3\nLine 4\nLine 5\n", "application/octet-stream")
        String contentString = "Line 1\nLine 2\nLine 3\nLine 4\nLine 5\n";
        byte[] contentBytes = contentString.getBytes(StandardCharsets.UTF_8);
        
        // Simulate Binary type (DataWeave content type)
        Object content = contentBytes; // Represents Binary type
        
        // DataWeave equivalent: (content readLinesWith "UTF-8")
        List<String> lines = readLinesWith(contentBytes, "UTF-8");
        
        // DataWeave equivalent: typeOf(content) -> "Binary"
        String contentType = typeOf(content);
        
        // Output as JSON structure matching DataWeave
        System.out.println("{");
        System.out.println("  \"lines\": " + lines);
        System.out.println("  \"showType\": \"" + contentType + "\"");
        System.out.println("}");
    }
    
    // DataWeave "readLinesWith(content, "UTF-8")" equivalent
    public static List<String> readLinesWith(byte[] contentBytes, String encoding) {
        String text = new String(contentBytes, StandardCharsets.UTF_8);
        return Arrays.stream(text.split("\n"))
                     .filter(line -> !line.isEmpty()) // Remove trailing empty line
                     .collect(Collectors.toList());
    }
    
    // DataWeave "typeOf(content)" equivalent for Binary
    public static String typeOf(Object content) {
        if (content instanceof byte[]) {
            return "Binary";
        }
        return content.getClass().getSimpleName();
    }
}



output:

{
  "lines": [Line 1, Line 2, Line 3, Line 4, Line 5]
  "showType": "Binary"
}




